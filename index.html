<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Non-Fire FLSD Practice Test</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f6f8;
  margin: 0;
  padding: 20px;
}
.container {
  max-width: 900px;
  margin: auto;
  background: white;
  padding: 25px;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}
h1 {
  text-align: center;
}
.question {
  margin-bottom: 20px;
}
.answers label {
  display: block;
  margin: 6px 0;
  cursor: pointer;
}
button {
  padding: 12px 20px;
  font-size: 16px;
  background: #0077cc;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}
button:hover {
  background: #005fa3;
}
#result {
  margin-top: 20px;
  font-size: 20px;
  font-weight: bold;
  text-align: center;
}
</style>
</head>

<body>
<div class="container">
<h1>Non-Fire FLSD Practice Test</h1>
<div id="quiz"></div>
<button onclick="submitQuiz()">Submit Exam</button>
<button onclick="loadQuiz()" style="margin-left:10px;background:#444;">New Test</button>
<div id="result"></div>
</div>

<script>
const questionBank = [
  {
    q: "Who has primary responsibility for life safety during a non-fire emergency?",
    a: ["Building Owner", "Facility Life Safety Director", "Fire Warden", "Security Supervisor"],
    c: 1
  },
  {
    q: "Which of the following is NOT considered a non-fire emergency?",
    a: ["Gas leak", "Power failure", "Flooding", "Uncontrolled fire"],
    c: 3
  },
  {
    q: "An evacuation shall be ordered when:",
    a: [
      "The Fire Department arrives",
      "Conditions pose an immediate threat to occupant safety",
      "Tenants request it",
      "Normal business operations are interrupted"
    ],
    c: 1
  },
  {
    q: "Which building system is primarily used to control the movement of smoke?",
    a: ["Fire alarm system", "Standpipe system", "HVAC system", "Sprinkler system"],
    c: 2
  },
  {
    q: "Means of egress stairways shall be:",
    a: [
      "Locked during normal operations",
      "Used for storage when not occupied",
      "Maintained clear and unobstructed at all times",
      "Accessible only to building staff"
    ],
    c: 2
  },
  {
    q: "Elevators may be used during a non-fire evacuation ONLY when:",
    a: [
      "The power is restored",
      "Authorized by the Fire Department",
      "Stairways are crowded",
      "The building is fully occupied"
    ],
    c: 1
  },
  {
    q: "Who is responsible for assisting persons requiring assistance during an emergency?",
    a: [
      "Fire Department personnel only",
      "Assigned building staff",
      "Other tenants",
      "Maintenance personnel only"
    ],
    c: 1
  },
  {
    q: "An Emergency Action Plan shall include:",
    a: [
      "Tenant lease information",
      "Evacuation procedures",
      "Maintenance schedules",
      "Payroll records"
    ],
    c: 1
  },
  {
    q: "What is the FIRST action to be taken upon discovery of a gas leak?",
    a: [
      "Attempt to ventilate the area",
      "Evacuate the affected area and notify appropriate authorities",
      "Use elevators to exit",
      "Shut down the fire alarm system"
    ],
    c: 1
  },
  {
    q: "Emergency drills shall be conducted:",
    a: [
      "Daily",
      "Weekly",
      "As required by FDNY rules",
      "At the discretion of tenants"
    ],
    c: 2
  },
  {
    q: "Who is responsible for communicating with responding emergency units?",
    a: ["Security staff", "Facility Life Safety Director", "Tenants", "Maintenance staff"],
    c: 1
  },
  {
    q: "During flooding conditions, the FLSD shall ensure:",
    a: [
      "Elevators remain in service",
      "Electrical systems are protected",
      "Normal operations continue",
      "Tenants handle the situation"
    ],
    c: 1
  },
  {
    q: "HVAC systems may be shut down to:",
    a: [
      "Improve comfort",
      "Prevent the spread of smoke or contaminants",
      "Reduce energy consumption",
      "Assist maintenance operations"
    ],
    c: 1
  },
  {
    q: "Emergency lighting shall operate:",
    a: [
      "Only during fire emergencies",
      "During loss of normal power",
      "Only when manually activated",
      "During business hours only"
    ],
    c: 1
  },
  {
    q: "A designated assembly area is also known as:",
    a: ["Command post", "Muster point", "Fire control room", "Security desk"],
    c: 1
  },
  {
    q: "Which condition requires immediate notification of the Fire Department?",
    a: ["Minor water leak", "Gas leak", "Broken fixture", "Noise complaint"],
    c: 1
  },
  {
    q: "Floor searches during an evacuation are conducted by:",
    a: ["Facility Life Safety Director", "Floor Wardens", "Tenants", "Maintenance staff"],
    c: 1
  },
  {
    q: "Blocked or obstructed exits are considered:",
    a: ["Acceptable temporarily", "A violation", "Optional", "Permitted after hours"],
    c: 1
  },
  {
    q: "Emergency announcements to occupants should be made using:",
    a: ["Email only", "Public address system", "Posted notices", "Text messages only"],
    c: 1
  },
  {
    q: "During a power failure, priority shall be given to:",
    a: ["Office equipment", "Life safety systems", "HVAC systems", "Tenant spaces"],
    c: 1
  },
  {
    q: "Re-entry into a building after an emergency shall be authorized by:",
    a: ["Tenants", "Facility Life Safety Director", "Fire Department", "Security staff"],
    c: 2
  }
];


let selectedQuestions = [];

function loadQuiz() {
  document.getElementById("result").innerHTML = "";
  selectedQuestions = [...questionBank]
    .sort(() => 0.5 - Math.random())
    .slice(0, 30);

  const quizDiv = document.getElementById("quiz");
  quizDiv.innerHTML = "";

  selectedQuestions.forEach((q, i) => {
    const answers = [...q.a].sort(() => 0.5 - Math.random());
    q.shuffled = answers;

    const div = document.createElement("div");
    div.className = "question";
    div.innerHTML = `<strong>${i + 1}. ${q.q}</strong>`;

    const ansDiv = document.createElement("div");
    ansDiv.className = "answers";

    answers.forEach(a => {
      ansDiv.innerHTML += `
        <label>
          <input type="radio" name="q${i}" value="${a}">
          ${a}
        </label>`;
    });

    div.appendChild(ansDiv);
    quizDiv.appendChild(div);
  });
}

function submitQuiz() {
  let score = 0;

  selectedQuestions.forEach((q, i) => {
    const correct = q.a[q.c];
    const selected = document.querySelector(`input[name="q${i}"]:checked`);
    if (selected && selected.value === correct) score++;
  });

  document.getElementById("result").innerHTML =
    `Score: ${score} / 30 (${Math.round(score/30*100)}%)`;
}

loadQuiz();
</script>
</body>
</html>
