<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Non-Fire FLSD Practice Test</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f6f8;
  margin: 0;
  padding: 20px;
}
.container {
  max-width: 900px;
  margin: auto;
  background: white;
  padding: 25px;
  border-radius: 8px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}
h1 {
  text-align: center;
}
.question {
  margin-bottom: 20px;
}
.answers label {
  display: block;
  margin: 6px 0;
  cursor: pointer;
}
button {
  padding: 12px 20px;
  font-size: 16px;
  background: #0077cc;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}
button:hover {
  background: #005fa3;
}
#result {
  margin-top: 20px;
  font-size: 20px;
  font-weight: bold;
  text-align: center;
}
</style>
</head>

<body>
<div class="container">
<h1>Non-Fire FLSD Practice Test</h1>
<div id="quiz"></div>
<button onclick="submitQuiz()">Submit Exam</button>
<button onclick="loadQuiz()" style="margin-left:10px;background:#444;">New Test</button>
<div id="result"></div>
</div>

<script>
const questionBank = [
  {q:"Who is responsible for life safety during a non-fire emergency?", a:["Building Owner","FLSD","Fire Warden","Security Guard"], c:1},
  {q:"Which is NOT a non-fire emergency?", a:["Gas leak","Power outage","Flooding","Kitchen fire"], c:3},
  {q:"When should evacuation occur?", a:["After FDNY arrives","When occupants are in danger","Only during business hours","After tenant approval"], c:1},
  {q:"Which system controls air movement?", a:["Sprinkler","HVAC","Standpipe","Fire alarm"], c:1},
  {q:"Stairwells must be:", a:["Locked","Used for storage","Clear and unobstructed","Used by staff only"], c:2},
  {q:"Elevators may be used when:", a:["Fire present","FDNY authorizes","Power failure","Never"], c:1},
  {q:"Who assists disabled occupants?", a:["FDNY only","Assigned staff","Tenants","No one"], c:1},
  {q:"Emergency Action Plans must include:", a:["Payroll","Evacuation procedures","Lease info","Maintenance logs"], c:1},
  {q:"First action during gas leak:", a:["Ventilate","Evacuate and notify","Use elevators","Ignore"], c:1},
  {q:"Emergency drills frequency:", a:["Daily","Weekly","As required","Never"], c:2},
  {q:"Who communicates with FDNY?", a:["Tenants","FLSD","Janitor","Doorman"], c:1},
  {q:"Flooding response includes:", a:["Using elevators","Securing electrical systems","Ignoring","Calling tenants"], c:1},
  {q:"HVAC shutdown is used to:", a:["Cool building","Prevent smoke spread","Increase airflow","Save power"], c:1},
  {q:"Egress lighting must operate during:", a:["Normal use","Power failure","Holidays","Maintenance"], c:1},
  {q:"What is a muster point?", a:["Command center","Assembly area","Fire panel","Security desk"], c:1},
  {q:"Which emergency requires FDNY notification?", a:["Minor spill","Gas leak","Broken chair","Noise complaint"], c:1},
  {q:"Who conducts floor sweeps?", a:["FLSD","Wardens","Tenants","Maintenance"], c:1},
  {q:"Blocked exits are:", a:["Allowed","Violation","Optional","Temporary"], c:1},
  {q:"Emergency announcements use:", a:["Email","PA system","Posters","Text only"], c:1},
  {q:"Power failure priority:", a:["Lights","Life safety systems","Computers","HVAC"], c:1},
  {q:"Bomb threats require:", a:["Ignoring","Evacuation if credible","Immediate detonation","Tenant decision"], c:1},
  {q:"Elevator entrapment requires:", a:["Self rescue","FDNY/maintenance","Force doors","Power reset"], c:1},
  {q:"Command post location:", a:["Lobby","Outside building","Mechanical room","Roof"], c:0},
  {q:"Emergency logs must be:", a:["Optional","Accurate","Destroyed","Private"], c:1},
  {q:"Emergency signage must be:", a:["Decorative","Visible","Hidden","Optional"], c:1},
  {q:"Who authorizes re-entry?", a:["Tenants","FLSD","FDNY","Security"], c:2},
  {q:"Stair pressurization prevents:", a:["Fire","Smoke","Water","Noise"], c:1},
  {q:"Non-fire drills test:", a:["Fire sprinklers","Procedures","Construction","Leases"], c:1},
  {q:"Emergency radios are used for:", a:["Music","Communication","Recording","Internet"], c:1},
  {q:"Emergency power supplies:", a:["Lights only","Life safety systems","Computers","HVAC only"], c:1},
  {q:"Incident reports are completed:", a:["Never","After emergency","Before","Optional"], c:1},
  {q:"Evacuation routes must be:", a:["Flexible","Posted","Secret","Locked"], c:1},
  {q:"Non-fire emergencies include:", a:["Floods","Gas leaks","Power failures","All of the above"], c:3}
];

let selectedQuestions = [];

function loadQuiz() {
  document.getElementById("result").innerHTML = "";
  selectedQuestions = [...questionBank]
    .sort(() => 0.5 - Math.random())
    .slice(0, 30);

  const quizDiv = document.getElementById("quiz");
  quizDiv.innerHTML = "";

  selectedQuestions.forEach((q, i) => {
    const answers = [...q.a].sort(() => 0.5 - Math.random());
    q.shuffled = answers;

    const div = document.createElement("div");
    div.className = "question";
    div.innerHTML = `<strong>${i + 1}. ${q.q}</strong>`;

    const ansDiv = document.createElement("div");
    ansDiv.className = "answers";

    answers.forEach(a => {
      ansDiv.innerHTML += `
        <label>
          <input type="radio" name="q${i}" value="${a}">
          ${a}
        </label>`;
    });

    div.appendChild(ansDiv);
    quizDiv.appendChild(div);
  });
}

function submitQuiz() {
  let score = 0;

  selectedQuestions.forEach((q, i) => {
    const correct = q.a[q.c];
    const selected = document.querySelector(`input[name="q${i}"]:checked`);
    if (selected && selected.value === correct) score++;
  });

  document.getElementById("result").innerHTML =
    `Score: ${score} / 30 (${Math.round(score/30*100)}%)`;
}

loadQuiz();
</script>
</body>
</html>
